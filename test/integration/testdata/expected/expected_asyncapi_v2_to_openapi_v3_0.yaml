openapi: "3.0"
info:
  title: Task Management API
  description: A comprehensive API for managing tasks, projects, developers, and notifications through webhook events.
  version: 1.0.0
servers:
  - url: kafka.example.com:9092
    description: Production Kafka broker
  - url: staging-kafka.example.com:9092
    description: Staging Kafka broker
  - url: https://webhooks.example.com
    description: Webhook notification endpoint
paths:
  /developer/created:
    get:
      summary: Receive developer creation notifications
      operationId: onDeveloperCreated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeveloperCreated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /developer/deleted:
    get:
      summary: Receive developer deletion notifications
      operationId: onDeveloperDeleted
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeveloperDeleted'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /developer/updated:
    get:
      summary: Receive developer update notifications
      operationId: onDeveloperUpdated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeveloperUpdated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /project/created:
    get:
      summary: Receive project creation notifications
      operationId: onProjectCreated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCreated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /project/deleted:
    get:
      summary: Receive project deletion notifications
      operationId: onProjectDeleted
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectDeleted'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /project/member-added:
    get:
      summary: Receive member addition notifications
      operationId: onProjectMemberAdded
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectMemberAdded'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /project/member-removed:
    get:
      summary: Receive member removal notifications
      operationId: onProjectMemberRemoved
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectMemberRemoved'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /project/updated:
    get:
      summary: Receive project update notifications
      operationId: onProjectUpdated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectUpdated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /task/assigned:
    get:
      summary: Receive task assignment notifications
      operationId: onTaskAssigned
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskAssigned'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /task/commented:
    get:
      summary: Receive task comment notifications
      operationId: onTaskCommented
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskCommented'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /task/created:
    get:
      summary: Receive task creation notifications
      operationId: onTaskCreated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskCreated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /task/deleted:
    get:
      summary: Receive task deletion notifications
      operationId: onTaskDeleted
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskDeleted'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /task/updated:
    get:
      summary: Receive task update notifications
      operationId: onTaskUpdated
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskUpdated'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /webhook/triggered:
    post:
      summary: Publish webhook trigger notifications
      operationId: triggerWebhook
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookTriggered'
      responses:
        "200":
          description: OK
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Error:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string
      required:
        - code
        - message
